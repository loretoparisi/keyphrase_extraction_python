# keyphrase_extraction_python
# Code adapted from https://bdewilde.github.io/blog/2014/09/23/intro-to-automatic-keyphrase-extraction/
# @author Loreto Parisi (loretoparisi at gmail dot com)
# Copyright (c) 2021 Loreto Parisi (loretoparisi at gmail dot com)
#

import os
from keyphraseextraction.EntitiesRanker import EntitiesRanker

text = """
The latest example of this is U. N. Ambassador, linda thomas Greenfield. So she is a biden appointee. Remember this is the U. N. Ambassador. This is the person who speaks for the United States on the world stage. Under donald trump. This is people like Nikki Haley. There's people who went to the U. N. And basically told all the other countries on earth where the United States our value system is indeed superior and you really ought to give us a listen. Meanwhile you have the biden administration trotting out to the U. N. A person who says that America is steeped in bigotry and racism. That America is a terrible place. Here is linda thomas Greenfield, the U. N. Ambassador speaking to the National Action Network, which of course is Al Sharpton's group. By the way, it remains a source of astonishment to me that Al Sharpton is well accepted in the halls of democratic power for for a bunch of folks who say they really don't like race riots. They seem to be kind of okay with it when it's Al Sharpton promoting it. In any case, here was linda thomas. Greenfield speaking to the National Action Network and explaining that the United States is a deeply racist place founded in racism with founding principles shot through with racism. I grew up in the segregated south, I was bussed to a segregated school on weekends. The Klan burn crosses on lawns in our neighborhood. I shared these stories and others to acknowledge on the international stage that I have personally experienced one of America's greatest imperfections I've seen for myself how the original sin of slavery weaved white supremacy into our founding documents and principles. We wove white supremacy into our founding documents and principles. This is precisely the opposite. The opposite of what Frederick douglass, an actual former slaves suggested in the lead up to the civil war when he said that the Constitution of the United States is a liberty document. And the problem was that the promissory note of the Declaration of Independence had not been fulfilled for black americans, But the foundational principles of the United States were indeed universal. It's precisely the opposite of this that is being promoted by the biden administration. What she is saying there is so despicable to say that on the world stage is so despite I mean, that's what she's saying. She said on the international stage, I go around the countries like china which is extraordinary human rights oppressor or Iran and I tell them that I've experienced depression in the United States on the basis of race, not because there are evil people who misinterpret America's founding documents, not because America has a fraught history with race that is filled with darkness and that we have overcome gradually and with tremendous success. Statistically speaking, no, what I say is that America's founding principles, the principles we still stand upon our shot through with white supremacy. She also added, quote racism is the problem of the racist and it is the problem of the society that produces the racist and in today's world, that's every society, right? So if there is a racist in the United States, that's because of society producing that racist. The society itself is evil and cruel. She also said that she believes white supremacy was the key factor that led police to kill both George Floyd and Brianna taylor last year. Again, there is zero evidence, I mean, zero evidence that George Floyd was killed because of his race. Not one person has brought a single shred of evidence to suggest that he was killed because of his race. It's simply a conjectural point brought out by people on the left who want to back a narrative that every time a black person dies at the hands of a white cop or is involved with the white cop. Because I don't even know at this point, given the medical evidence whether George Floyd died because of derek chauvin at all. Any time there's a situation involving a white cop and a black person who dies in custody. It must be because of endemic american racism. Same thing with Brianna Taylor. Is there evidence that Brianna Taylor had been white, She would still be alive. Where is the evidence on that? Considering that fire blindly through the, through the door, they shot her by accident. Okay, this this whole notion being promoted by the biden administration. It is a lie that America is endemically racist. It is a lie that America's founding principles are shot through with racism. There explicitly couched in universal human terms. That is why the United States has been able to adapt to a more diverse population. It's why the United States has become one of the most racially tolerant places on planet earth on planet earth. Do you know where black people on planet earth have the highest household income. Wait for it? The United States."""
ranker = EntitiesRanker()
ranks = ranker.main(text)
print(ranks)

# create entities graph node, edges representation
(nodes, edges) = ranker.create_graph(ranks)
# node, edges to html graph dataviz
html_file_path=os.path.join(os.path.dirname(os.path.abspath(__file__)), 'graph.html')
ranker.create_graph_html(html_file_path, nodes, edges)
